[{"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\main.ts":"1","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\App.vue":"2","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\router\\index.ts":"3","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\store\\index.ts":"4","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\CourseManage.vue":"5","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\GradManage.vue":"6","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\ClassManage.vue":"7","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\CourseList.vue":"8","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutLogin\\LoginVue.vue":"9","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutLogin\\FirstLogin.vue":"10","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutClass\\AddClass.vue":"11","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutClass\\ClassDetail.vue":"12","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\AboutGradution\\CheckOrEditFGrad.vue":"13","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\LayOut.vue":"14","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\common\\apis.ts":"15","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\ExamWay.vue":"16","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\BasicInfo.vue":"17","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\FinalGrade.vue":"18","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\UsualGrade.vue":"19","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\TargetInfo.vue":"20","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\FilterBar.vue":"21","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\GlobalHeader.vue":"22","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\CourseBox.vue":"23","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\AsideBar.vue":"24","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\AboutGradution\\GradReq.vue":"25","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\UpLoad.vue":"26","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\EditVue.vue":"27","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\AboutGradution\\CheckPoint.vue":"28","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\DrawerVue.vue":"29","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\aboutCourse\\AddExamway.vue":"30","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\aboutCourse\\AddTargetInfo.vue":"31","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\aboutCourse\\EditFinalCon.vue":"32","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\ChooseList.vue":"33"},{"size":1141,"mtime":1678457640192,"results":"34","hashOfConfig":"35"},{"size":1269,"mtime":1675128913663,"results":"36","hashOfConfig":"35"},{"size":1664,"mtime":1678363394817,"results":"37","hashOfConfig":"35"},{"size":16736,"mtime":1678432105715,"results":"38","hashOfConfig":"35"},{"size":2312,"mtime":1678441317487,"results":"39","hashOfConfig":"35"},{"size":2366,"mtime":1678277045334,"results":"40","hashOfConfig":"35"},{"size":2606,"mtime":1678432592105,"results":"41","hashOfConfig":"35"},{"size":1308,"mtime":1678440883818,"results":"42","hashOfConfig":"35"},{"size":2973,"mtime":1675047544147,"results":"43","hashOfConfig":"35"},{"size":2569,"mtime":1678279711569,"results":"44","hashOfConfig":"35"},{"size":4666,"mtime":1678443120903,"results":"45","hashOfConfig":"35"},{"size":5100,"mtime":1678433065046,"results":"46","hashOfConfig":"35"},{"size":2606,"mtime":1675816848476,"results":"47","hashOfConfig":"35"},{"size":783,"mtime":1678364291310,"results":"48","hashOfConfig":"35"},{"size":1948,"mtime":1678448043100,"results":"49","hashOfConfig":"35"},{"size":5627,"mtime":1678364040454,"results":"50","hashOfConfig":"35"},{"size":10811,"mtime":1678363934334,"results":"51","hashOfConfig":"35"},{"size":4502,"mtime":1678443109403,"results":"52","hashOfConfig":"35"},{"size":4591,"mtime":1678280691945,"results":"53","hashOfConfig":"35"},{"size":3700,"mtime":1678364103615,"results":"54","hashOfConfig":"35"},{"size":2122,"mtime":1678432170469,"results":"55","hashOfConfig":"35"},{"size":773,"mtime":1677759764653,"results":"56","hashOfConfig":"35"},{"size":3269,"mtime":1675510506628,"results":"57","hashOfConfig":"35"},{"size":1404,"mtime":1675504507583,"results":"58","hashOfConfig":"35"},{"size":2480,"mtime":1675816635273,"results":"59","hashOfConfig":"35"},{"size":2406,"mtime":1678439068175,"results":"60","hashOfConfig":"35"},{"size":2207,"mtime":1678261605335,"results":"61","hashOfConfig":"35"},{"size":2015,"mtime":1678432421133,"results":"62","hashOfConfig":"35"},{"size":2726,"mtime":1677657532073,"results":"63","hashOfConfig":"35"},{"size":2425,"mtime":1678281890350,"results":"64","hashOfConfig":"35"},{"size":4149,"mtime":1674701081994,"results":"65","hashOfConfig":"35"},{"size":3064,"mtime":1678440046973,"results":"66","hashOfConfig":"35"},{"size":2310,"mtime":1678281954175,"results":"67","hashOfConfig":"35"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"tkynt8",{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110"},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113"},{"filePath":"114","messages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118"},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125"},{"filePath":"126","messages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140"},{"filePath":"141","messages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\main.ts",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\App.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\router\\index.ts",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\store\\index.ts",["145"],"import { createStore, Commit } from 'vuex'\r\nimport axios from 'axios'\r\nimport { apis } from '@/common/apis'\r\nimport router from '@/router'\r\n\r\nexport interface checkArray {\r\n  id: number,\r\n  courseId: number,\r\n  ratio: number,\r\n  name: string,\r\n  ratio2: number,\r\n  time: number\r\n}\r\ntype checkName = 'id' | 'courseId' | 'ratio' | 'name'\r\ninterface targetArray {\r\n  id: number,\r\n  courseId: number,\r\n  content: string,\r\n  number: string,\r\n  name: string,\r\n  graduateId: number,\r\n  checkList?: checkArray[]\r\n}\r\ninterface labelAndValue {\r\n  label: string\r\n  value: string\r\n}\r\ntype targetName = 'id' | 'courseId' | 'content' | 'number' | 'name' | 'graduateId'\r\nexport interface ICourses {\r\n  name: string\r\n  teacher: string\r\n  college: string\r\n  unit: string\r\n  id: number\r\n  studentNum: number\r\n  nature: string\r\n  allPeriod: number\r\n  runPeriod: number\r\n  theoryPeriod: number\r\n  score: number\r\n  preList: number[]\r\n  preElse: null | []\r\n  classList: number[]\r\n  semester: string\r\n  usualRatio: number\r\n  finalRatio: number\r\n  finalId: number\r\n  userId: number\r\n  userName: string\r\n  number: string\r\n  checkList: checkArray[]\r\n  targetList: targetArray[]\r\n  Semester: labelAndValue[]\r\n}\r\n\r\nexport interface stuProps {\r\n  name: string\r\n  id: number\r\n  classId: number\r\n  className: string\r\n  number: number\r\n  index: number\r\n  usualScore: number[]\r\n  finalScore1: number[]\r\n  finalScore2: number[]\r\n  finalScore3: number[]\r\n  finalScore4: number[]\r\n}\r\n// interface ICurrentUser {\r\n//   number: number;\r\n//   isFirst?: boolean;\r\n//   userName: string;\r\n//   Tcourses: ICourses[];\r\n//   avator: string;\r\n//   isLogin: boolean;\r\n// }\r\n\r\ninterface User {\r\n  isLogin: boolean\r\n  isFirst: boolean\r\n  number: number\r\n  userId: string\r\n}\r\n\r\ninterface finalGrade {// 期末成绩构成\r\n  courseId: number\r\n  first1: []\r\n  first2: []\r\n  first3: []\r\n  first4: []\r\n}\r\n\r\ninterface CollegeAndProfess {\r\n  id: number\r\n  college: string\r\n  grade: number\r\n  professional: string\r\n  graduateCount: number\r\n  graduateTargetCount: number\r\n  name: string\r\n  userId: number\r\n}\r\nexport interface graduateTargetInfo {\r\n  name: string\r\n  id?: number\r\n  content: string\r\n}\r\nexport interface graduateName {\r\n  graduateName: string\r\n  graduateId?: number\r\n  graduateTargetInfo: graduateTargetInfo[]\r\n  add: boolean\r\n}\r\nexport interface gradInfo {\r\n  college: string\r\n  grade: number\r\n  professional: string\r\n  graduateName: graduateName[]\r\n}\r\n\r\ninterface classSelect {\r\n  college: string\r\n  headCount: number\r\n  courseCount: number\r\n  userId: number\r\n  grade: number\r\n  name: number\r\n  id: number\r\n  professional: string\r\n}\r\n\r\nexport interface Student {\r\n  number: number // 学号\r\n  // id: number\r\n  index: number\r\n  name: string\r\n}\r\n\r\ninterface targetAndFinalForm { // 期末成绩构成\r\n  targetId: number\r\n  targetName: string\r\n  first1: number[]\r\n  first2: number[]\r\n  first3: number[]\r\n  first4: number[]\r\n}\r\n\r\nexport interface GlobalDataProps{\r\n  isLogin: boolean\r\n  user: User\r\n  token?: string\r\n  courses: ICourses[]\r\n  // accountInfo: IAccount\r\n  classList: []\r\n  currentCourse: ICourses\r\n  graduationList: []\r\n  stuGrade: stuProps[]\r\n  isAdd: boolean\r\n  gradContent: finalGrade\r\n  ClassAndPro: {\r\n    grade: labelAndValue[],\r\n    professional: labelAndValue[],\r\n    college: labelAndValue[]\r\n  }\r\n  CollegeAndProfess: CollegeAndProfess[]\r\n  filterArray: CollegeAndProfess[]\r\n  gradInfo: gradInfo\r\n  classArray: classSelect[]\r\n  classfilter: classSelect[] // 考虑与filerArray合并\r\n  stuArr: stuProps[]\r\n  stu: Student[]// 临时供新增班级页面使用的学生信息，考虑是否可与stuArr合并\r\n  targetAndFinalFormList: targetAndFinalForm[]\r\n  curClass: classSelect\r\n  listPre: labelAndValue[]\r\n}\r\n\r\nconst getAndCommit = async (url: string, mutationName: string, commit: Commit) => {\r\n  const { data } = await axios.get(url)\r\n  commit(mutationName, data)\r\n}\r\nconst changeName = (name: string) => {\r\n  let res = ''\r\n  switch (name) {\r\n    case 'autoMation': res = '自动化学院'; break\r\n    case 'communAndInfo': res = '通信与信息工程学院'; break\r\n    case 'electronAndEng': res = '电子工程学院'; break\r\n    case 'computing': res = '计算机学院'; break\r\n    case 'economyAndMag': res = '经济与管理学院'; break\r\n  }\r\n  return res\r\n}\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst checkAndCommit = (state: { token?: string; isLogin?: boolean; courses?: never[]; classList?: never[]; currentCourse: any; graduationList?: never[]; isAdd?: boolean }, name: checkName, id: number, value: string | number) => {\r\n  const tmp = state.currentCourse.checkList.find((item: checkArray) => (item as checkArray).id === id)\r\n  if (tmp) {\r\n    (tmp[name] as number | string) = value\r\n  }\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst examAndCommit = (state: { token?: string; isLogin?: boolean; courses?: never[]; classList?: never[]; currentCourse: any; graduationList?: never[]; isAdd?: boolean }, name: targetName, id: number, value: string | number) => {\r\n  const tmp = state.currentCourse.targetList.find((item: targetArray) => (item as targetArray).id === id)\r\n  if (tmp) {\r\n    (tmp[name] as number | string) = value\r\n  }\r\n}\r\nexport default createStore({\r\n  state: {\r\n    user: { isLogin: false, isFirst: false, userId: 0, number: '' },\r\n    token: localStorage.getItem('token') || '',\r\n    courses: [],\r\n    classList: [],\r\n    currentCourse: {\r\n      listPre: [],\r\n      name: '',\r\n      teacher: '',\r\n      college: '',\r\n      unit: '',\r\n      id: 0,\r\n      studentNum: 0,\r\n      nature: '',\r\n      allPeriod: 0,\r\n      runPeriod: 0,\r\n      theoryPeriod: 0,\r\n      score: 0,\r\n      preList: [],\r\n      preElse: [],\r\n      classList: [],\r\n      semester: '',\r\n      usualRatio: 0,\r\n      finalRatio: 0,\r\n      finalId: 0,\r\n      userId: 0,\r\n      userName: '',\r\n      number: '',\r\n      checkList: [],\r\n      targetList: [],\r\n      Semester: []\r\n    },\r\n    graduationList: [],\r\n    stuGrade: [],\r\n    isAdd: false,\r\n    gradContent: {},\r\n    ClassAndPro: { grade: [], professional: [], college: [] },\r\n    CollegeAndProfess: [],\r\n    filterArray: [],\r\n    classfilter: [],\r\n    gradInfo: {},\r\n    classArray: [],\r\n    stuArr: [],\r\n    stu: [],\r\n    targetAndFinalFormList: [],\r\n    curClass: {}\r\n  },\r\n  getters: {\r\n    totalScore: (state) => (index: number) => {\r\n      let score = 0\r\n      const targetList = (state.currentCourse.targetList[index] as targetArray).checkList\r\n      const len = targetList?.length || 0\r\n      for (let i = 0; i < len; i++) {\r\n        score += ((targetList as [])[i] as checkArray).ratio2 * ((targetList as [])[i] as checkArray).ratio\r\n      }\r\n      return score * 100\r\n    },\r\n    stuScore: (state) => (index: number, stuIndex: number) => {\r\n      let score = 0\r\n      const checkList = state.currentCourse.checkList\r\n      const targetList = (state.currentCourse.targetList[index] as targetArray).checkList\r\n      const len = targetList?.length || 0\r\n      const stuInfo = (state.stuGrade[stuIndex] as stuProps).usualScore || []\r\n      for (let i = 0; i < len; i++) {\r\n        const currentTotal = stuInfo[checkList.indexOf((targetList as [])[i])]\r\n        score += currentTotal * ((targetList as [])[i] as checkArray).ratio2 * ((targetList as [])[i] as checkArray).ratio\r\n      }\r\n      return score\r\n    },\r\n    updateVal: (state) => (obj: { grade: number, profess: string }) => {\r\n      state.filterArray = state.CollegeAndProfess\r\n      if (obj.grade) {\r\n        state.filterArray = state.filterArray.filter((item: CollegeAndProfess) => item.grade === obj.grade)\r\n      }\r\n      if (obj.profess) {\r\n        state.filterArray = state.filterArray.filter((item: CollegeAndProfess) => item.professional === obj.profess)\r\n      }\r\n      return state.filterArray\r\n    },\r\n    classfilter: (state) => (obj: { grade: number, profess: string }) => {\r\n      state.classfilter = state.classArray\r\n      if (obj.grade) {\r\n        state.classfilter = state.classArray.filter((item: classSelect) => item.grade === obj.grade)\r\n      }\r\n      if (obj.profess) {\r\n        state.classfilter = state.classfilter.filter((item: classSelect) => item.professional === obj.profess)\r\n      }\r\n      return state.classfilter\r\n    },\r\n    classDetail: (state) => (id: number) => {\r\n      return state.classArray.find((item: classSelect) => item.id === id)\r\n    }\r\n  },\r\n  mutations: {\r\n    // #region\r\n    modeUnit (state, rawData) {\r\n      state.currentCourse.unit = rawData\r\n    },\r\n    modeTeacher (state, rawData) {\r\n      state.currentCourse.teacher = rawData\r\n    },\r\n    modeName (state, rawData) {\r\n      state.currentCourse.name = rawData\r\n    },\r\n    modeId (state, rawData) {\r\n      state.currentCourse.id = rawData\r\n    },\r\n    modeAllP (state, rawData) {\r\n      state.currentCourse.allPeriod = rawData\r\n    },\r\n    modeTheory (state, rawData) {\r\n      state.currentCourse.theoryPeriod = rawData\r\n    },\r\n    modeRunP (state, rawData) {\r\n      state.currentCourse.runPeriod = rawData\r\n    },\r\n    modeScore (state, rawData) {\r\n      state.currentCourse.score = rawData\r\n    },\r\n    modeStuNum (state, rawData) {\r\n      state.currentCourse.studentNum = rawData\r\n    },\r\n    modeObj (state, rawData) {\r\n      state.currentCourse.checkList = rawData\r\n    },\r\n    modeUsual (state, rawData) {\r\n      state.currentCourse.usualRatio = rawData\r\n    },\r\n    modelFinal (state, rawData) {\r\n      state.currentCourse.finalRatio = rawData\r\n    },\r\n    updateName (state, rawData) {\r\n      checkAndCommit(state, 'name', rawData.index, rawData.value)\r\n    },\r\n    updateRatio (state, rawData) {\r\n      checkAndCommit(state, 'ratio', rawData.index, rawData.value)\r\n    },\r\n    updateExName (state, rawData) {\r\n      examAndCommit(state, 'name', rawData.index, rawData.value)\r\n    },\r\n    updateExId (state, rawData) {\r\n      examAndCommit(state, 'id', rawData.index, rawData.value)\r\n    },\r\n    updateExTar (state, rawData) {\r\n      examAndCommit(state, 'content', rawData.index, rawData.value)\r\n    },\r\n    updateExGra (state, rawData) {\r\n      examAndCommit(state, 'graduateId', rawData.index, rawData.value)\r\n    },\r\n    // #endregion\r\n    getCourse (state, rawData) {\r\n      state.courses = rawData.content\r\n    },\r\n    fList (state, rawData) {\r\n      state.classList = rawData.content\r\n    },\r\n    addCurrentCourse (state, rawData) {\r\n      state.currentCourse = rawData.content\r\n    },\r\n    clearCurrentCourse (state) {\r\n      state.currentCourse = {\r\n        listPre: [],\r\n        name: '',\r\n        teacher: '',\r\n        college: '',\r\n        unit: '',\r\n        id: 0,\r\n        studentNum: 0,\r\n        nature: '',\r\n        allPeriod: 0,\r\n        runPeriod: 0,\r\n        theoryPeriod: 0,\r\n        score: 0,\r\n        preList: [],\r\n        preElse: [],\r\n        classList: [],\r\n        semester: '',\r\n        usualRatio: 0,\r\n        finalRatio: 0,\r\n        finalId: 0,\r\n        userId: 0,\r\n        userName: '',\r\n        number: '',\r\n        checkList: [],\r\n        targetList: [],\r\n        Semester: []\r\n      }\r\n    },\r\n    addGraduationList (state, rawData) {\r\n      state.graduationList = rawData.content\r\n    },\r\n    addOne (state) {\r\n      state.isAdd = true\r\n    },\r\n    noAddOne (state) {\r\n      state.isAdd = false\r\n    },\r\n    getUsualGrade (state, rawData) {\r\n      state.stuGrade = rawData.content\r\n    },\r\n    removeThisWay (state, rawData) {\r\n      const len = state.currentCourse.targetList.length\r\n      for (let i = 0; i < len; i++) {\r\n        if ((state.currentCourse.targetList[i] as targetArray).id === rawData) {\r\n          state.currentCourse.targetList.splice(i, 1)\r\n          break\r\n        }\r\n      }\r\n    },\r\n    login (state, rawData) {\r\n      state.user = { ...rawData, isLogin: true }\r\n      localStorage.setItem('token', rawData.token)\r\n      localStorage.setItem('userId', rawData.userId)\r\n      localStorage.setItem('number', rawData.number)\r\n      axios.defaults.headers.common.token = rawData.token\r\n      router.push('/')\r\n    },\r\n    notFirstLogin (state) {\r\n      state.user.isFirst = false\r\n    },\r\n    getGradContent (state, rawData) {\r\n      state.gradContent = rawData.content\r\n    },\r\n    getGradeAndProfess (state, rawData) {\r\n      state.ClassAndPro.grade = rawData.content.grade\r\n      state.ClassAndPro.professional = rawData.content.professional\r\n      state.ClassAndPro.college = rawData.content.college\r\n    },\r\n    collegeAndGrade (state, rawData) {\r\n      const data: [{ college: string }] = rawData.content\r\n      for (let i = 0; i < data.length; i++) {\r\n        // console.log(1111111)\r\n        data[i].college = changeName(data[i].college)\r\n      }\r\n      state.CollegeAndProfess = rawData.content\r\n      state.filterArray = state.CollegeAndProfess\r\n    },\r\n    getOneGradInfo (state, rawData) {\r\n      state.gradInfo = rawData.content[0]\r\n    },\r\n    selectClass (state, rawData) {\r\n      const data: [{ college: string }] = rawData.content\r\n      for (let i = 0; i < data.length; i++) {\r\n        console.log(1111111)\r\n        data[i].college = changeName(data[i].college)\r\n      }\r\n      state.classfilter = rawData.content\r\n      state.classArray = rawData.content\r\n    },\r\n    getStuInfo (state, rawData) {\r\n      state.stuArr = rawData.content\r\n    },\r\n    getClassList (state, rawData) {\r\n      // unknown data\r\n      state.classList = rawData.content\r\n    },\r\n    addClassStu (state, obj: Student) { // 新增班级页面的新增学生\r\n      (state.stu as Student[]).push(obj)\r\n    },\r\n    deleteAddStu (state, id: number) { // 新增班级页面的删除学生\r\n      const stu = state.stu\r\n      for (let i = 0; i < stu.length; i++) {\r\n        if ((stu[i] as Student).number === id) {\r\n          stu.splice(i, 1)\r\n        }\r\n      }\r\n    },\r\n    listFinalStructure (state, rawData) {\r\n      state.targetAndFinalFormList = rawData.content.targetAndFinalFormList\r\n    },\r\n    logout (state) {\r\n      state.user.isLogin = false\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('userId')\r\n      localStorage.removeItem('number')\r\n    },\r\n    classSelect (state, rawData) {\r\n      state.curClass = rawData.content\r\n    },\r\n    selectSemster (state, rawData) {\r\n      const data = rawData.content\r\n      const len = data.length\r\n      const modified: labelAndValue[] = []\r\n      for (let i = 0; i < len; i++) {\r\n        modified.push({\r\n          value: data[i],\r\n          label: data[i]\r\n        })\r\n      }\r\n      (state.currentCourse.Semester as labelAndValue[]) = modified\r\n    },\r\n    listPre (state, rawData) {\r\n      state.currentCourse.listPre = rawData.content\r\n    },\r\n    addNewStu (state, rawData: Student[]) {\r\n      const length = rawData.length\r\n      for (let i = 0; i < length; i++) {\r\n        (state.stu as Student[]).push(rawData[i])\r\n      }\r\n    }\r\n  },\r\n  actions: {\r\n    getCourse ({ commit }) {\r\n      getAndCommit(apis.course, 'getCourse', commit)\r\n    },\r\n    getClassList ({ commit }) {\r\n      getAndCommit(apis.classlist, 'getClassList', commit)\r\n    },\r\n    addCurrentCourse ({ commit }, courseId) {\r\n      getAndCommit(`${apis.getOne}/${courseId}`, 'addCurrentCourse', commit)\r\n    },\r\n    addGraduationList ({ commit }) {\r\n      getAndCommit(apis.gradlist, 'addGraduationList', commit)\r\n    },\r\n    getUsualGrade ({ commit }, id) {\r\n      getAndCommit(`${apis.usualGrade}/${id}`, 'getUsualGrade', commit)\r\n    },\r\n    login ({ commit }, info) {\r\n      return axios.post(apis.login, info).then(res => {\r\n        if (res.data.success) {\r\n          commit('login', res.data.content)\r\n        } else {\r\n          alert('账号或密码错误')\r\n        }\r\n      })\r\n    },\r\n    getGradContent ({ commit }, id) {\r\n      getAndCommit(`${apis.gradContent}/${id}`, 'getGradContent', commit)\r\n    },\r\n    getGradeAndProfess ({ commit }) {\r\n      getAndCommit(apis.getClassAndPro, 'getGradeAndProfess', commit)\r\n    },\r\n    collegeAndGrade ({ commit }) {\r\n      getAndCommit(apis.collegeAndGrade, 'collegeAndGrade', commit)\r\n    },\r\n    getOneGradInfo ({ commit }, id) {\r\n      getAndCommit(`${apis.graduatePage}/${id}`, 'getOneGradInfo', commit)\r\n    },\r\n    selectClass ({ commit }) { // 返回班级信息\r\n      getAndCommit(apis.selectClass, 'selectClass', commit)\r\n    },\r\n    getStuInfo ({ commit }, id) {\r\n      getAndCommit(`${apis.selectStu}/${id}`, 'getStuInfo', commit)\r\n    },\r\n    listFinalStructure ({ commit }, id) {\r\n      getAndCommit(`${apis.listFinalStructure}/${id}`, 'listFinalStructure', commit)\r\n    },\r\n    classSelect ({ commit }, id) {\r\n      getAndCommit(`${apis.selectClass}/${id}`, 'classSelect', commit)\r\n    },\r\n    selectSemster ({ commit }) {\r\n      getAndCommit(apis.listSemester, 'selectSemster', commit)\r\n    },\r\n    listPre ({ commit }) {\r\n      getAndCommit(apis.listPre, 'listPre', commit)\r\n    }\r\n  }\r\n})\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\CourseManage.vue",["146"],"<template>\r\n  <el-tabs v-model=\"activeName\" class=\"demo-tabs outer\" @tab-click=\"handleClick\">\r\n    <el-tab-pane label=\"基础信息\" name=\"first\">\r\n      <basic-info :isAuthor=\"false\"></basic-info>\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"考核方式\" name=\"second\">\r\n      <exam-way :isAuthor=\"false\"></exam-way>\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"课程目标信息\" name=\"third\">\r\n      <target-info :isAuthor=\"false\"></target-info>\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"平时成绩管理\" name=\"fourth\">\r\n      <usual-grade :is-author=\"false\"></usual-grade>\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"期末成绩管理\" name=\"fifth\"><final-grade :is-author=\"false\"></final-grade></el-tab-pane>\r\n    <!-- <el-tab-pane label=\"课程报告\" name=\"sixth\"><personal-report></personal-report></el-tab-pane> -->\r\n  </el-tabs>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport type { TabsPaneContext } from 'element-plus'\r\nimport { defineComponent, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\nimport { GlobalDataProps } from '@/store'\r\nimport ExamWay from './aboutCourse/ExamWay.vue'\r\nimport TargetInfo from './aboutCourse/TargetInfo.vue'\r\nimport UsualGrade from './aboutCourse/UsualGrade.vue'\r\nimport BasicInfo from './aboutCourse/BasicInfo.vue'\r\n// import PersonalReport from './aboutCourse/PersonalReport.vue'\r\nimport FinalGrade from './aboutCourse/FinalGrade.vue'\r\nexport default defineComponent({\r\n  name: 'CourseManage',\r\n  components: {\r\n    BasicInfo,\r\n    ExamWay,\r\n    TargetInfo,\r\n    UsualGrade,\r\n    // PersonalReport,\r\n    FinalGrade\r\n  }\r\n})\r\n</script>\r\n\r\n<script lang=\"ts\" setup>\r\nconst route = useRoute()\r\nconst activeName = ref('first')\r\n// const isAuthor = ref(false)\r\nconst courseId = route.query.id\r\nconst store = useStore<GlobalDataProps>()\r\nif (courseId) {\r\n  store.dispatch('addCurrentCourse', courseId)\r\n}\r\nconst handleClick = (tab: TabsPaneContext, event: Event) => {\r\n  console.log(tab, event)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.demo-tabs > .el-tabs__content {\r\n  padding: 32px;\r\n  color: #6b778c;\r\n  font-size: 32px;\r\n  font-weight: 600;\r\n}\r\n.outer {\r\n  margin-top: 10px;\r\n  height: 100%;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  box-sizing: border-box;\r\n  padding: 0 25px;\r\n  line-height: 70px;\r\n}\r\n</style>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\GradManage.vue",["147"],"<template>\r\n  <filter-bar @update=\"updateVal\"></filter-bar>\r\n  <el-table :data=\"detailData\" style=\"width: 100%\">\r\n    <el-table-column prop=\"college\" label=\"学院\"/>\r\n    <el-table-column prop=\"grade\" label=\"年级\"/>\r\n    <el-table-column prop=\"professional\" label=\"专业\"/>\r\n    <el-table-column prop=\"graduateCount\" label=\"毕业要求个数\"/>\r\n    <el-table-column prop=\"graduateTargetCount\" label=\"指标点数\"/>\r\n    <el-table-column prop=\"address\" label=\"操作\">\r\n      <template #default=\"scope\">\r\n          <div class=\"flex justify-space-between mb-4 flex-wrap gap-4\">\r\n          <el-button link type=\"primary\" :disabled=\"detailData[scope.$index].userId !== +userId\" @click.prevent=\"goEdit(detailData[scope.$index].id)\">编辑</el-button>\r\n          <el-button link type=\"primary\" @click.prevent=\"goView(detailData[scope.$index].id)\">查看</el-button>\r\n          <el-button link type=\"danger\" :disabled=\"detailData[scope.$index].userId !== +userId\" @click.prevent=\"goDelete(detailData[scope.$index].id)\">删除</el-button>\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, onBeforeMount, computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { GlobalDataProps } from '@/store'\r\nimport FilterBar from '@/components/FilterBar.vue'\r\nimport router from '@/router'\r\nimport axios from 'axios'\r\nimport { apis } from '@/common/apis'\r\nexport default defineComponent({\r\n  name: 'GradList',\r\n  components: {\r\n    FilterBar\r\n  }\r\n})\r\n</script>\r\n\r\n<script lang=\"ts\" setup>\r\nconst store = useStore<GlobalDataProps>()\r\nconst detailData = computed(() => store.state.filterArray)\r\nconst goEdit = (id: number) => {\r\n  router.push({\r\n    path: '/editgrad',\r\n    query: {\r\n      id\r\n    }\r\n  })\r\n}\r\nconst userId = computed(() => store.state.user.number)\r\nconst goView = (id: number) => {\r\n  router.push({\r\n    path: '/editgrad',\r\n    query: {\r\n      id,\r\n      view: 1\r\n    }\r\n  })\r\n}\r\nconst goDelete = (id: number) => {\r\n  if (confirm('确认删除？')) {\r\n    axios.get(`${apis.deleteGraduateInfo}/${id}`).then(() => {\r\n      store.dispatch('collegeAndGrade')\r\n    })\r\n  }\r\n}\r\nconst updateVal = (obj: { grade: number, profess: string }) => {\r\n  console.log(obj)\r\n  store.getters.updateVal(obj)\r\n}\r\nonBeforeMount(() => {\r\n  store.dispatch('collegeAndGrade')\r\n})\r\n</script>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\ClassManage.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\CourseList.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutLogin\\LoginVue.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutLogin\\FirstLogin.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutClass\\AddClass.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutClass\\ClassDetail.vue",["148"],"<template>\r\n  <edit-vue :edit=\"outerId\" v-if=\"isEdit\" :classId=\"id\" @close-model=\"closeEdit\"></edit-vue>\r\n  <div class=\"outer\">\r\n    <div class=\"classInfo\">\r\n      <span style=\"font-weight: bolder;\">编辑班级信息</span>\r\n      <div class=\"input\">\r\n        <i class=\"red\">* </i><span> 学院: </span>\r\n        <el-select :disabled=\"view\" @change=\"edited=true\" v-model=\"info.college\" class=\"m-2\" placeholder=\"Select\" style=\"width: 343px;margin: 20px 0;\">\r\n          <el-option v-for=\"item in unit\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"/>\r\n        </el-select> <br>\r\n        <i class=\"red\">* </i><span> 专业: </span>\r\n        <el-select :disabled=\"view\" @change=\"edited=true\" v-model=\"info.professional\" class=\"m-2\" placeholder=\"Select\" style=\"width: 343px;margin: 20px 0;\">\r\n          <el-option v-for=\"o in pro\" :key=\"o.value\" :label=\"o.label\" :value=\"o.value\"/>\r\n        </el-select> <br>\r\n        <i class=\"red\">* </i><span> 年级: </span>\r\n        <el-input :disabled=\"view\" @input=\"edited=true\" class=\"w-50 m-2\" v-model=\"info.grade\" style=\"height: 34px;width: 343px;margin: 20px 0;\"/><br>\r\n        <i class=\"red\">* </i><span> 班级: </span>\r\n        <el-input :disabled=\"view\" @input=\"edited=true\" class=\"w-50 m-2\" v-model=\"info.name\" style=\"height: 34px;width: 343px;margin: 20px 0;\"/><br>\r\n      </div>\r\n    </div>\r\n    <div class=\"editStu\">\r\n      <span style=\"font-weight: bolder;\">编辑班级成员信息</span> <br>\r\n      <el-button type=\"primary\" :disabled=\"view\" @click=\"isEdit=true;add=true\"> 新增 </el-button> <br>\r\n      <el-table :data=\"stu\" style=\"width: 100%;margin-top: 20px;\">\r\n        <el-table-column prop=\"index\" label=\"班级序号\"/>\r\n        <el-table-column prop=\"name\" label=\"姓名\"/>\r\n        <el-table-column prop=\"number\" label=\"学号\"/>\r\n        <el-table-column label=\"操作\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-button :disabled=\"view\" text @click=\"edit(stu[scope.$index].id)\"> 编辑 </el-button>\r\n              <el-button :disabled=\"view\" text @click=\"deleteCurrent(stu[scope.$index].id)\"> 删除 </el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"button\">\r\n      <el-button type=\"plain\" @click=\"back\"> 返回 </el-button>\r\n      <el-button type=\"primary\" @click=\"handleSave\"> 保存 </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, ref, onBeforeMount } from 'vue'\r\nimport EditVue from '@/components/EditVue.vue'\r\nimport { useStore } from 'vuex'\r\nimport { GlobalDataProps } from '@/store'\r\nimport { useRoute } from 'vue-router'\r\nimport { apis } from '@/common/apis'\r\nimport axios from 'axios'\r\nimport router from '@/router'\r\nexport default defineComponent({\r\n  name: 'ClassDetail',\r\n  components: {\r\n    EditVue\r\n  },\r\n  setup () {\r\n    const route = useRoute()\r\n    const store = useStore<GlobalDataProps>()\r\n    const view = route.query.view ? 1 : 0\r\n    console.log(view)\r\n    const id = route.query.id ? +route.query.id : 0\r\n    const unit = computed(() => store.state.ClassAndPro.grade)\r\n    const pro = computed(() => store.state.ClassAndPro.professional)\r\n    const info = computed(() => store.state.curClass)\r\n    const stu = computed(() => store.state.stuArr)\r\n    const edited = ref(false)\r\n    const goUpload = ref(false)\r\n    const isEdit = ref(false)\r\n    const add = ref(false)// 控制是否打开edit-vue时是否为新增接口\r\n    const outerId = ref(0)// 给editvue用的学生信息\r\n    const handleSave = () => {\r\n      if (edited.value) {\r\n        axios.post(apis.updateClass, info.value)\r\n      }\r\n      router.push('/class')\r\n    }\r\n    const deleteCurrent = (id: number) => {\r\n      if (confirm('确认删除?')) {\r\n        axios.get(`${apis.deleteSingleStudent}/${id}`)\r\n        store.dispatch('getStuInfo', id)\r\n      }\r\n    }\r\n    const edit = (id: number) => {\r\n      isEdit.value = true\r\n      outerId.value = id\r\n    }\r\n    const closeEdit = (obj: unknown) => {\r\n      isEdit.value = false\r\n      // 此处处理保存后的数据\r\n      if (obj) {\r\n        if (add.value) {\r\n          axios.post(apis.updateSingleStudent, JSON.stringify(obj))\r\n        } else {\r\n          axios.post(apis.insetSingleStudent, JSON.stringify(obj))\r\n        }\r\n      }\r\n      store.dispatch('getStuInfo', id)\r\n    }\r\n    const back = () => {\r\n      router.push('/class')\r\n    }\r\n    onBeforeMount(() => {\r\n      store.dispatch('getStuInfo', id)\r\n      store.dispatch('classSelect', id)\r\n    })\r\n    return {\r\n      view, info, unit, pro, edited, stu, handleSave, deleteCurrent, edit, goUpload, isEdit, outerId, id, back, add, closeEdit\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.outer {\r\n  margin-left: 10px;\r\n}\r\n.classInfo {\r\n  background-color: #f5f6f7;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n}\r\n.input {\r\n  margin-top: 20px;\r\n  margin-left: 40px;\r\n}\r\n.editStu {\r\n  padding: 10px;\r\n  margin-top: 40px;\r\n  border-radius: 10px;\r\n  background-color: #f5f6f7;\r\n}\r\n.button {\r\n  width: 132px;\r\n  margin: 20px auto 0;\r\n}\r\n</style>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\AboutGradution\\CheckOrEditFGrad.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\LayOut.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\common\\apis.ts",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\ExamWay.vue",["149","150","151","152","153"],"<template>\r\n  <div class=\"outer\">\r\n    <el-dialog v-model=\"centerDialogVisible\" title=\"Warning\" width=\"30%\" center>\r\n    <span>\r\n      {{ message }}\r\n    </span>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"centerDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSave3\">\r\n          确认\r\n        </el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n    <div class=\"header\">\r\n      <div class=\"dev\"></div>\r\n      <span>成绩占比</span>\r\n    </div>\r\n    <i>* </i><span>平时成绩占比：</span>\r\n    <span class=\"right\">\r\n      <el-input @input=\"fchange\" :disabled=\"isAuthor\" type=\"number\" v-model=\"usual\" class=\"w-50 m-2\" placeholder=\"请输入0-100以内数字\" style=\"height: 38px;width: 343px;\"/>&nbsp;\r\n    </span><br>\r\n    <i>* </i><span>期末成绩占比：</span>\r\n    <span class=\"right\">\r\n      <el-input @input=\"uchange\" :disabled=\"isAuthor\" type=\"number\" v-model=\"final\" class=\"w-50 m-2\" placeholder=\"请输入0-100以内数字\" style=\"height: 38px;width: 343px;\"/>&nbsp;\r\n    </span><br>\r\n    <template v-for=\"(i, index) in info.checkList\" :key=\"i.id\">\r\n      <add-examway :index=\"+index+1\" :info=\"i\"></add-examway>\r\n    </template>\r\n    <div>\r\n      <el-button type=\"primary\" :disabled=\"isAuthor\" @click=\"addEaxmWay\">增加考核方式</el-button>\r\n      <el-button @click=\"back\">返回</el-button>\r\n      <el-button :disabled=\"isAuthor\" type=\"primary\" @click=\"handleSave4\">保存</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref, computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nimport { GlobalDataProps } from '@/store'\r\nimport AddExamway, { Aemitter } from '@/components/aboutCourse/AddExamway.vue'\r\nimport axios from 'axios'\r\nimport { apis } from '@/common/apis'\r\nconsole.log(5)\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    isAuthor: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  name: 'ExamWay',\r\n  components: {\r\n    AddExamway\r\n  },\r\n  setup () {\r\n    const store = useStore<GlobalDataProps>()\r\n    const router = useRouter()\r\n    const info = computed(() => store.state.currentCourse)\r\n    const isAdd = computed(() => store.state.isAdd)\r\n    const addEaxmWay = () => {\r\n      info.value.checkList.push({\r\n        id: Date.now(),\r\n        courseId: Date.now(),\r\n        ratio: 0,\r\n        name: '',\r\n        ratio2: 0,\r\n        time: 1\r\n      })\r\n    }\r\n    const backOrSave = ref(0)\r\n    const usual = computed({\r\n      get: () => info.value.usualRatio,\r\n      set: (value) => {\r\n        store.commit('modeUsual', value)\r\n      }\r\n    })\r\n    const final = computed({\r\n      get: () => info.value.finalRatio,\r\n      set: (value) => {\r\n        store.commit('modelFinal', value)\r\n      }\r\n    })\r\n    const message = ref('')\r\n    const centerDialogVisible = ref(false)\r\n    const back = () => {\r\n      centerDialogVisible.value = true\r\n      message.value = '是否返回课程列表页，返回将不会保存已修改信息'\r\n    }\r\n    const submitChange = () => {\r\n      if (!isAdd.value) {\r\n        axios.post(apis.modfiy, JSON.stringify(info.value)).then(res => {\r\n          if (res.status !== 200) {\r\n            alert('保存失败')\r\n          }\r\n        })\r\n      } else {\r\n        axios.post(apis.addone, JSON.stringify(info.value)).then(res => {\r\n          if (res.status !== 200) {\r\n            alert('添加失败')\r\n          }\r\n        })\r\n      }\r\n      router.push('/')\r\n      store.commit('noAddOne')\r\n    }\r\n    const handleSave3 = () => {\r\n      if (backOrSave.value) {\r\n        backOrSave.value = 0\r\n        let sum = 0\r\n        for (let i = 0, len = info.value.checkList.length; i < len; i++) {\r\n          console.log(len)\r\n          sum += +info.value.checkList[i].ratio\r\n        }\r\n        if (sum !== 100) {\r\n          console.log('sum!==100')\r\n          if (!confirm('当前所有考核方式比重相加不等于1,是否继续保存')) {\r\n            console.log('quit')\r\n            return false\r\n          } else {\r\n            submitChange()\r\n          }\r\n        } else {\r\n          submitChange()\r\n        }\r\n      }\r\n      router.push('/')\r\n    }\r\n    const handleSave4 = () => {\r\n      backOrSave.value = 1\r\n      centerDialogVisible.value = true\r\n      message.value = '保存后将覆盖已有信息，请确认输入信息正确无误'\r\n    }\r\n    const uchange = () => {\r\n      usual.value = 100 - final.value\r\n    }\r\n    const fchange = () => {\r\n      final.value = 100 - usual.value\r\n    }\r\n    Aemitter.on('on-item-delete', (id: number) => {\r\n      const len = info.value.checkList.length\r\n      if (len < 2) {\r\n        alert('至少保留一个考核方式！')\r\n      } else {\r\n        for (let i = 0; i < len; i++) {\r\n          if (info.value.checkList[i].id === id) {\r\n            info.value.checkList.splice(i, 1)\r\n            break\r\n          }\r\n        }\r\n      }\r\n    })\r\n    return {\r\n      centerDialogVisible,\r\n      info,\r\n      addEaxmWay,\r\n      back,\r\n      handleSave4,\r\n      handleSave3,\r\n      usual,\r\n      final,\r\n      uchange,\r\n      fchange,\r\n      message\r\n    }\r\n  }\r\n})\r\nconsole.log(6)\r\n</script>\r\n\r\n<style scoped>\r\n.outer {\r\n  user-select: none;\r\n}\r\n.header {\r\n  position: relative;\r\n}\r\n.header span {\r\n  margin-left: 8px;\r\n}\r\ni {\r\n  color: #ed6355;\r\n}\r\n.dev {\r\n  width: 4px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  background-color: #337ef7;\r\n  position: absolute;\r\n  top: 22px;\r\n}\r\n.right {\r\n  position: absolute;\r\n  left: 175px;\r\n}\r\n.dialog-footer button:first-child {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\BasicInfo.vue",["154","155"],"<template>\r\n  <div class=\"outer\">\r\n    <el-dialog v-model=\"centerDialogVisible\" title=\"Warning\" width=\"30%\" center>\r\n    <span>\r\n      {{ message }}\r\n    </span>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"centerDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSave2\">\r\n          确定\r\n        </el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n    <span><i>*</i> 所属院系：</span>\r\n    <span class=\"right\">\r\n      <el-radio-group :disabled=\"isAuthor\" v-model=\"academy\">\r\n        <el-radio label=\"communAndInfo\">通信与信息工程学院</el-radio>\r\n        <el-radio label=\"electronAndEng\">电子工程学院</el-radio>\r\n        <el-radio label=\"autoMation\">自动化学院</el-radio>\r\n        <el-radio label=\"computing\">计算机学院</el-radio>\r\n        <el-radio label=\"economyAndMag\">经济与管理学院</el-radio>\r\n      </el-radio-group>\r\n    </span><br>\r\n    <span><i>*</i> 开设单位：</span>\r\n    <span class=\"right\">\r\n      <el-input v-model=\"unit\" :disabled=\"isAuthor\" maxlength=\"20\" class=\"w-50 m-2\" placeholder=\"请输入20字以内文字\" style=\"height: 38px;width: 343px;\"/></span><br>\r\n    <span><i>*</i> 任课老师姓名：</span>\r\n    <span class=\"right\">\r\n      <el-input v-model=\"teacher\" :disabled=\"isAuthor\" maxlength=\"20\" class=\"w-50 m-2\" placeholder=\"请输入20字以内文字\" style=\"height: 38px;width: 343px;\"/></span><br>\r\n    <span><i>*</i> 课程名称：</span>\r\n    <span class=\"right\">\r\n      <el-input v-model=\"name\" :disabled=\"isAuthor\" maxlength=\"20\" class=\"w-50 m-2\" placeholder=\"请输入20字以内文字\" style=\"height: 38px;width: 343px;\"/></span><br>\r\n    <span><i>*</i> 课程性质：</span>\r\n      <span class=\"right\">\r\n        <el-radio-group :disabled=\"isAuthor\" v-model=\"courseKind\" class=\"ml-4\">\r\n          <el-radio label=\"专业必修\" size=\"large\"></el-radio>\r\n          <el-radio label=\"专业选修\" size=\"large\"></el-radio>\r\n        </el-radio-group>\r\n      </span><br>\r\n    <span><i>*</i> 课程编号：</span>\r\n    <span class=\"right\">\r\n      <el-input v-model=\"id\" :disabled=\"isAuthor\" class=\"w-50 m-2\" maxlength=\"20\" placeholder=\"请输入20字以内字符\" style=\"height: 38px;width: 343px;\"/></span><br>\r\n    <span><i>*</i> 总学时：</span>\r\n    <span class=\"right\">\r\n      <el-input v-model=\"allPeriod\" type=\"number\" :disabled=\"isAuthor\" class=\"w-50 m-2\" placeholder=\"请输入0-100以内纯数字\" style=\"height: 38px;width: 343px;\"/></span><br>\r\n      <span><i>*</i> 理论学时：</span>\r\n    <span class=\"right\">\r\n      <el-input v-model=\"theoryPeriod\" :disabled=\"isAuthor\" type=\"number\" class=\"w-50 m-2\" placeholder=\"请输入0-100以内纯数字\" style=\"height: 38px;width: 343px;\"/></span><br>\r\n    <span><i>*</i> 实验学时：</span>\r\n    <span class=\"right\">\r\n      <el-input v-model=\"runPeriod\" type=\"number\" :disabled=\"isAuthor\" class=\"w-50 m-2\" placeholder=\"请输入0-100以内纯数字\" style=\"height: 38px;width: 343px;\"/></span><br>\r\n    <span><i>*</i> 学分：</span>\r\n    <span class=\"right\">\r\n      <el-input v-model=\"score\" :disabled=\"isAuthor\" type=\"number\" class=\"w-50 m-2\" placeholder=\"请输入0-100以内纯数字\" style=\"height: 38px;width: 343px;\"/></span><br>\r\n    <span><i>*</i> 先修课程：</span>\r\n    <span class=\"right\">\r\n      <el-select v-model=\"preCourse\" filterable=\"true\" allow-create :disabled=\"isAuthor\" class=\"m-2\" placeholder=\"请输入\" size=\"large\" style=\"width: 343px;\">\r\n        <el-option v-for=\"item in option1s\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"/>\r\n      </el-select>\r\n    </span><br>\r\n    <span><i>*</i> 考核对象：</span>\r\n    <span class=\"right\">\r\n      <el-cascader @change=\"updateValue\" v-model=\"checkObj\" ref=\"cascaderRef\" :show-all-levels=\"false\" :props=\"customProps\" style=\"width: 343px;\" :disabled=\"isAuthor\" :options=\"options\" clearable />\r\n    </span><br>\r\n    <span><i>*</i> 学生人数：</span>\r\n    <span class=\"right\">\r\n      <el-input :disabled=\"isAuthor\" v-model=\"studentNum\" type=\"number\" class=\"w-50 m-2\" placeholder=\"请输入0-100以内纯数字\" style=\"height: 38px;width: 343px;\"/></span><br>\r\n    <span><i>*</i> 执行学期：</span>\r\n    <span class=\"right\">\r\n      <el-select :disabled=\"isAuthor\" v-model=\"semester\" class=\"m-2\" placeholder=\"请选择\" size=\"large\" style=\"width: 343px;\">\r\n        <el-option v-for=\"item in semester1\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"/>\r\n      </el-select>\r\n    </span><br>\r\n    <el-button :diabled=\"isAuthor\" @click=\"handleBack\" style=\"margin: 0 20px;\">返回</el-button>\r\n    <el-button :diabled=\"isAuthor\" @click=\"handleSave1\" type=\"primary\" style=\"margin: 0 auto;\">保存</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref, onBeforeMount, computed, Ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { GlobalDataProps } from '@/store'\r\nimport { useRouter } from 'vue-router'\r\nimport axios from 'axios'\r\nimport { apis } from '@/common/apis'\r\nexport default defineComponent({\r\n  name: 'BasicInfo',\r\n  props: {\r\n    multiple: {\r\n      default: true\r\n    },\r\n    isAuthor: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  setup () {\r\n    const router = useRouter()\r\n    const store = useStore<GlobalDataProps>()\r\n    const info = computed(() => store.state.currentCourse)\r\n    const semester1 = computed(() => info.value.Semester)\r\n    const isAdd = computed(() => store.state.isAdd)\r\n    // let num = 0\r\n    // if (info.value) {\r\n    //   switch (info.value.unit) {\r\n    //     case 'communAndInfo': num = 1\r\n    //       break\r\n    //     case 'electronAndEng': num = 2\r\n    //       break\r\n    //     case 'autoMation': num = 3\r\n    //       break\r\n    //     case 'computing': num = 4\r\n    //       break\r\n    //   }\r\n    // }\r\n    const cascaderRef: Ref = ref(null)\r\n    // #region input\r\n    const academy = computed({\r\n      get: () => info.value.college,\r\n      set: (value) => {\r\n        info.value.college = value\r\n      }\r\n    })\r\n    const semester = computed({\r\n      get: () => info.value.semester,\r\n      set: (value) => {\r\n        info.value.semester = value\r\n      }\r\n    })\r\n    const unit = computed({\r\n      get: () => info.value.unit,\r\n      set: (value) => {\r\n        store.commit('modeUnit', value)\r\n      }\r\n    })\r\n    const teacher = computed({\r\n      get: () => info.value.teacher,\r\n      set: (value) => {\r\n        store.commit('modeTeacher', value)\r\n      }\r\n    })\r\n    const name = computed({\r\n      get: () => info.value.name,\r\n      set: (value) => {\r\n        store.commit('modeName', value)\r\n      }\r\n    })\r\n    const preCourse = computed({\r\n      get: () => info.value.preList,\r\n      set: (value) => {\r\n        info.value.preList = value\r\n      }\r\n    })\r\n    const id = computed({\r\n      get: () => info.value.id,\r\n      set: (value) => {\r\n        store.commit('modeId', value)\r\n      }\r\n    })\r\n    const allPeriod = computed({\r\n      get: () => info.value.allPeriod,\r\n      set: (value) => {\r\n        store.commit('modeAllP', value)\r\n      }\r\n    })\r\n    const theoryPeriod = computed({\r\n      get: () => info.value.theoryPeriod,\r\n      set: (value) => {\r\n        store.commit('modeTheory', value)\r\n      }\r\n    })\r\n    const runPeriod = computed({\r\n      get: () => info.value.runPeriod,\r\n      set: (value) => {\r\n        store.commit('modeRunP', value)\r\n      }\r\n    })\r\n    const score = computed({\r\n      get: () => info.value.score,\r\n      set: (value) => {\r\n        store.commit('modeScore', value)\r\n      }\r\n    })\r\n    const studentNum = computed({\r\n      get: () => info.value.studentNum,\r\n      set: (value) => {\r\n        store.commit('modeStuNum', value)\r\n      }\r\n    })\r\n    const checkObj = computed({\r\n      get: () => info.value.checkList,\r\n      set: (value) => {\r\n        store.commit('modeObj', value)\r\n      }\r\n    })\r\n    const option1s = computed(() => store.state.listPre)\r\n    const courseKind = computed({\r\n      get: () => info.value.nature,\r\n      set: (value) => {\r\n        info.value.nature = value\r\n      }\r\n    })\r\n    // #endregion\r\n    const message = ref('')\r\n    const centerDialogVisible = ref(false)\r\n    const backOrSave = ref(0)\r\n    onBeforeMount(() => {\r\n      store.dispatch('getClassList')\r\n      store.dispatch('selectSemster')\r\n      // store.dispatch('course')\r\n      store.dispatch('listPre')\r\n    })\r\n    const options = computed(() => store.state.classList)\r\n    const customProps = {\r\n      multiple: true,\r\n      emitPath: true\r\n    }\r\n    const updateValue = () => {\r\n      try {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const checked = (cascaderRef.value?.getCheckedNodes(true) as []).map((ele: any) => ele.value)\r\n        info.value.checkList = checked\r\n      } catch (err) {\r\n        alert('至少选择一项考核对象')\r\n      }\r\n    }\r\n    // console.log(cascaderRef.value.getCheckedNodes())\r\n    // const option1s = [\r\n    // ]\r\n    const handleSave1 = () => {\r\n      // 身份验证\r\n      // eslint-disable-next-line no-constant-condition\r\n      if (true) {\r\n        backOrSave.value = 1\r\n        centerDialogVisible.value = true\r\n        message.value = '保存后将覆盖已有信息，请确认输入信息正确无误'\r\n      }\r\n    }\r\n    const handleSave2 = () => {\r\n      if (backOrSave.value) {\r\n        backOrSave.value = 0\r\n        if (!isAdd.value) {\r\n          axios.post(apis.modfiy, JSON.stringify(info.value)).then(res => {\r\n            console.log('props.info exits modefied', res.status)\r\n          })\r\n        } else {\r\n          axios.post(apis.addone, JSON.stringify(info.value)).then(res => {\r\n            if (res.status !== 200) {\r\n              alert('保存失败')\r\n            }\r\n            console.log('props not exits add')\r\n          })\r\n        }\r\n        store.commit('noAddOne')\r\n      }\r\n      router.push('/')\r\n    }\r\n    const handleBack = () => {\r\n      centerDialogVisible.value = true\r\n      message.value = '是否返回课程列表页，返回将不会保存已修改信息'\r\n    }\r\n    return {\r\n      updateValue,\r\n      centerDialogVisible,\r\n      cascaderRef,\r\n      customProps,\r\n      checkObj,\r\n      options,\r\n      academy,\r\n      unit,\r\n      teacher,\r\n      name,\r\n      courseKind,\r\n      id,\r\n      allPeriod,\r\n      theoryPeriod,\r\n      runPeriod,\r\n      score,\r\n      studentNum,\r\n      semester1,\r\n      handleSave1,\r\n      handleSave2,\r\n      handleBack,\r\n      message,\r\n      semester,\r\n      option1s,\r\n      preCourse,\r\n      props: {\r\n        multiple: true\r\n      }\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.outer {\r\n  width: 100%;\r\n  position: relative;\r\n}\r\ni {\r\n  color: #ed6355;\r\n}\r\n.right {\r\n  position: absolute;\r\n  left: 152px;\r\n}\r\n.dialog-footer button:first-child {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\FinalGrade.vue",["156"],"<template>\r\n  <div class=\"outer\">\r\n    <up-load v-if=\"goUpload\" @close-model=\"handleClose\" :website=\"website\"></up-load>\r\n    <edit-final-con></edit-final-con>\r\n    <el-table :data=\"stu\" border style=\"width: 100%\">\r\n      <el-table-column prop=\"className\" label=\"年级\" />\r\n      <el-table-column prop=\"id\" label=\"学号\" />\r\n      <el-table-column prop=\"name\" label=\"姓名\" />\r\n      <el-table-column label=\"第一题\">\r\n        <template v-for=\"(o, index) in gradContent.first1\" :key=\"o\">\r\n          <el-table-column :label=\"o[(index+1).toString()]\">\r\n            <el-table-column :label=\"index+1\">\r\n              <template #default=\"scope\">\r\n                {{ stu[scope.$index].finalScore1[index] }}\r\n              </template>\r\n            </el-table-column>\r\n          </el-table-column>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"第二题\">\r\n        <template v-for=\"(o, index) in gradContent.first2\" :key=\"o\">\r\n          <el-table-column :label=\"o[(index + 1).toString()]\">\r\n            <el-table-column :label=\"index + 1\">\r\n              <template #default=\"scope\">\r\n                {{ stu[scope.$index].finalScore2[index] }}\r\n              </template>\r\n            </el-table-column>\r\n          </el-table-column>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"第三题\">\r\n        <template v-for=\"(o, index) in gradContent.first3\" :key=\"o\">\r\n          <el-table-column :label=\"o[(index + 1).toString()]\">\r\n            <el-table-column :label=\"index + 1\">\r\n              <template #default=\"scope\">\r\n                {{ stu[scope.$index].finalScore3[index] }}\r\n              </template>\r\n            </el-table-column>\r\n          </el-table-column>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"第四题\">\r\n        <template v-for=\"(o, index) in gradContent.first4\" :key=\"o\">\r\n          <el-table-column :label=\"o[(index + 1).toString()]\">\r\n            <el-table-column :label=\"index + 1\">\r\n              <template #default=\"scope\">\r\n                {{ stu[scope.$index].finalScore1[index] }}\r\n              </template>\r\n            </el-table-column>\r\n          </el-table-column>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"button\">\r\n      <el-button @click=\"goBack\">返回</el-button>\r\n      <el-button @click=\"goedit\" type=\"primary\" :disabled=\"isAuthor\">编辑题目</el-button>\r\n      <el-button @click=\"godown\" type=\"primary\">下载</el-button>\r\n      <el-button @click=\"downGrade\" type=\"primary\">下载成绩模板</el-button>\r\n      <el-button @click=\"upload\" type=\"primary\">批量上传</el-button>\r\n      <el-button @click=\"goBack\" type=\"primary\" :disabled=\"isAuthor\">保存</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref, computed, onBeforeMount } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { GlobalDataProps } from '@/store'\r\n// import axios from 'axios'\r\nimport { apis } from '@/common/apis'\r\nimport UpLoad from '@/components/UpLoad.vue'\r\nimport EditFinalCon, { emitter } from '@/components/aboutCourse/EditFinalCon.vue'\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    isAuthor: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  name: 'FinalGrade',\r\n  components: {\r\n    UpLoad, EditFinalCon\r\n  }\r\n})\r\n</script>\r\n\r\n<script lang=\"ts\" setup>\r\nconst route = useRoute()\r\nconst store = useStore<GlobalDataProps>()\r\nconst router = useRouter()\r\nconst id = route.query.id\r\nconst goUpload = ref(false)\r\nconst gradContent = computed(() => store.state.gradContent)\r\nconst info = computed(() => store.state.currentCourse)\r\nconst stu = computed(() => store.state.stuGrade)\r\nconst website = apis.uploadFinalGrade + '?token=' + localStorage.getItem('token')\r\nonBeforeMount(() => {\r\n  store.dispatch('getGradContent', id)\r\n})\r\nconst handleClose = () => {\r\n  goUpload.value = false\r\n  store.dispatch('getUsualGrade', id)\r\n}\r\nconst goBack = () => {\r\n  router.push('/')\r\n}\r\n// TODO\r\nconst downGrade = () => {\r\n  window.open('http://192.168.0.117:8888/course/downloadFinal/' + id)// 下载地址\r\n}\r\nconst goedit = () => {\r\n  emitter.emit('drawer-open', () => null)\r\n}\r\nconst upload = () => {\r\n  goUpload.value = true\r\n  console.log(111)\r\n}\r\n// TODO\r\nconst godown = () => {\r\n  // axios.get(`${apis.downloadFinal}/${info.value.id}`)\r\n  window.open()\r\n}\r\nemitter.on('drawer-close', () => {\r\n  store.dispatch('getGradContent', info.value.id)\r\n})\r\n</script>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\UsualGrade.vue",["157"],"<template>\r\n  <div class=\"outer\">\r\n    <el-dialog v-model=\"centerDialogVisible\" title=\"Warning\" width=\"30%\" center>\r\n      <span>\r\n        {{ message }}\r\n      </span>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"centerDialogVisible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"handleSave9\">\r\n            确定\r\n          </el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n    <div>\r\n      <el-table :data=\"stu\" style=\"width: 100%\" @row-click=\"goEdit\">\r\n        <el-table-column label=\"班级\" prop=\"className\"/>\r\n        <el-table-column label=\"学号\" prop=\"number\"/>\r\n        <el-table-column label=\"姓名\" prop=\"name\"/>\r\n        <template v-for=\"(i, Iindex) in info.targetList\" :key=\"i.id\">\r\n          <el-table-column :label=\"i.name\">\r\n            <template v-if=\"i.checkList\">\r\n              <template v-for=\"(t) in i.checkList\" :key=\"t.id\">\r\n                <el-table-column :label=\"t.name\">\r\n                  <template #default=\"scope\">\r\n                    <span>{{ stu[scope.$index].usualScore[checkList.indexOf(t)] }}</span>\r\n                  </template>\r\n                </el-table-column>\r\n              </template>\r\n            </template>\r\n            <template v-else v-for=\"(j, index) in info.checkList\" :key=\"j.id\">\r\n              <el-table-column :label=\"j.name\">\r\n                <template #default=\"scope\">\r\n                  <span>{{ stu[scope.$index].usualScore[index] }}</span>\r\n                </template>\r\n              </el-table-column>\r\n            </template>\r\n            <el-table-column label=\"总分\">\r\n              {{ totalScore(Iindex) }}\r\n            </el-table-column>\r\n            <el-table-column label=\"得分\">\r\n              <template #default=\"scope\">\r\n                {{ stuScore(Iindex, scope.$index) }}\r\n              </template>\r\n            </el-table-column>\r\n          </el-table-column>\r\n        </template>\r\n      </el-table>\r\n    </div>\r\n    <drawer-vue></drawer-vue>\r\n    <div style=\"margin-bottom: 0;\">\r\n      <el-button type=\"primary\" :disabled=\"isAuthor\" @click=\"handleDownload\">下载</el-button>\r\n      <el-button type=\"primary\" @click=\"handleOpen\" :disabled=\"isAuthor\">平时成绩构成</el-button>\r\n      <el-button :disabled=\"isAuthor\" type=\"primary\" @click=\"handleSave8\">保存</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport DrawerVue, { demitter } from '@/components/DrawerVue.vue'\r\nimport { defineComponent, ref, computed, onBeforeMount } from 'vue'\r\nimport { GlobalDataProps } from '@/store'\r\nimport { useStore } from 'vuex'\r\nimport axios from 'axios'\r\nimport { apis } from '@/common/apis'\r\nimport router from '@/router'\r\nimport { useRoute } from 'vue-router'\r\nexport default defineComponent({\r\n  props: {\r\n    isAuthor: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  name: 'GradeManage',\r\n  components: {\r\n    DrawerVue\r\n  },\r\n  setup () {\r\n    const route = useRoute()\r\n    const store = useStore<GlobalDataProps>()\r\n    const message = ref('')\r\n    const centerDialogVisible = ref(false)\r\n    const id = route.query.id\r\n    const info = computed(() => store.state.currentCourse)\r\n    console.log(info.value)\r\n    const checkList = computed(() => store.state.currentCourse.checkList)\r\n    const stu = computed(() => store.state.stuGrade)\r\n    const totalScore = computed(() => store.getters.totalScore)\r\n    const stuScore = computed(() => store.getters.stuScore)\r\n    const handleOpen = () => {\r\n      demitter.emit('on-drawer-open', () => null)\r\n    }\r\n    const handleDownload = () => {\r\n      window.open('http://192.168.0.117:8888/course/downloadUsual/' + id)\r\n    }\r\n    onBeforeMount(() => {\r\n      store.dispatch('getUsualGrade', id)\r\n    })\r\n    const grade = computed(() => store.state.stuGrade)\r\n    const goEdit = (row: object) => {\r\n      handleOpen()\r\n      demitter.emit('on-update-usual-grade', row)\r\n    }\r\n    const handleSave8 = () => {\r\n      centerDialogVisible.value = true\r\n      message.value = '确认保存当前信息？'\r\n    }\r\n    const handleSave9 = () => {\r\n      centerDialogVisible.value = false\r\n      axios.post(apis.modefyUsual, JSON.stringify({ courseID: info.value.id, studentAndScoreFormList: stu.value })).then(() => {\r\n        router.push('/')\r\n      })\r\n    }\r\n    return {\r\n      info,\r\n      message,\r\n      handleOpen,\r\n      handleDownload,\r\n      centerDialogVisible,\r\n      grade,\r\n      stu,\r\n      goEdit,\r\n      checkList,\r\n      totalScore,\r\n      stuScore,\r\n      handleSave8,\r\n      handleSave9\r\n    }\r\n  }\r\n})\r\n</script>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\aboutCourse\\TargetInfo.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\FilterBar.vue",["158"],"<template>\r\n  <div class=\"outer\">\r\n    <div class=\"academy\">\r\n      <span>专业：</span>\r\n      <el-select @change=\"updateVal\" v-model=\"pro\" class=\"m-2\" placeholder=\"Select\">\r\n        <el-option v-for=\"item in professional\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"/>\r\n      </el-select>\r\n    </div>\r\n    <div class=\"grade\">\r\n      <span>年级：</span>\r\n      <el-select @change=\"updateVal\" v-model=\"gra\" class=\"m-2\" placeholder=\"Select\">\r\n        <el-option v-for=\"o in grade\" :key=\"o.value\" :label=\"o.label\" :value=\"o.value\"/>\r\n      </el-select>\r\n    </div>\r\n    <div class=\"button\">\r\n      <el-button @click=\"search\" type=\"primary\">搜索</el-button>\r\n      <el-button @click=\"addNew\" type=\"primary\">新增</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref, onBeforeMount, computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { GlobalDataProps } from '@/store'\r\nimport router from '@/router'\r\nexport default defineComponent({\r\n  name: 'FilterBar',\r\n  emits: ['update'],\r\n  setup (props, context) {\r\n    const store = useStore<GlobalDataProps>()\r\n    onBeforeMount(() => {\r\n      store.dispatch('getGradeAndProfess')\r\n    })\r\n    const pro = ref('')\r\n    const gra = ref('')\r\n    const professional = computed(() => store.state.ClassAndPro.professional)\r\n    const grade = computed(() => store.state.ClassAndPro.grade)\r\n    const updateVal = () => {\r\n      // console.log(pro.value)\r\n      const onj = { grade: gra.value, profess: pro.value }\r\n      context.emit('update', onj)\r\n    }\r\n    const addNew = () => {\r\n      router.push('/addclass')\r\n    }\r\n    const search = () => {\r\n      console.log(222)\r\n    }\r\n    return {\r\n      pro, professional, addNew, search, gra, grade, updateVal\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.outer {\r\n  padding-top: 20px;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  border-radius: 10px;\r\n  height: 130px;\r\n  user-select: none;\r\n}\r\n.academy, .grade {\r\n  display: inline-block;\r\n  margin-right: 100px;\r\n  margin-left: 50px;\r\n}\r\n.button {\r\n  margin-top: 30px;\r\n  margin-left: 50px;\r\n}\r\n</style>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\GlobalHeader.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\CourseBox.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\AsideBar.vue",["159","160"],"<template>\r\n  <el-row class=\"tac\">\r\n    <el-col>\r\n      <el-menu default-active=\"1-1\" class=\"el-menu-vertical-demo\" @open=\"handleOpen\" @close=\"handleClose\">\r\n        <el-sub-menu index=\"1\">\r\n          <template #title>\r\n            <el-icon><User /></el-icon>\r\n            <span>智能课程</span>\r\n          </template>\r\n          <el-menu-item-group>\r\n            <router-link to=\"/\">\r\n              <el-menu-item index=\"1-1\"><el-icon><Avatar /></el-icon>课程管理</el-menu-item>\r\n            </router-link>\r\n            <router-link to=\"/class\">\r\n              <el-menu-item index=\"1-2\"><el-icon><Avatar /></el-icon>班级管理</el-menu-item>\r\n            </router-link>\r\n            <router-link to=\"/graduation\">\r\n              <el-menu-item index=\"1-3\"><el-icon><Avatar /></el-icon>毕业要求管理</el-menu-item>\r\n            </router-link>\r\n          </el-menu-item-group>\r\n        </el-sub-menu>\r\n      </el-menu>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nexport default defineComponent({\r\n  name: 'AsideBar',\r\n  components: {\r\n  }\r\n})\r\n</script>\r\n<script lang=\"ts\" setup>\r\nconst handleOpen = (key: string, keyPath: string[]) => {\r\n  console.log(key, keyPath)\r\n}\r\nconst handleClose = (key: string, keyPath: string[]) => {\r\n  console.log(key, keyPath)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tac {\r\n  user-select: none;\r\n}\r\n</style>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\AboutGradution\\GradReq.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\UpLoad.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\EditVue.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\pages\\AboutGradution\\CheckPoint.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\DrawerVue.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\aboutCourse\\AddExamway.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\aboutCourse\\AddTargetInfo.vue",["161"],"<template>\r\n  <div class=\"outer\">\r\n    <div class=\"top\">\r\n      <div class=\"dev\"></div>\r\n      <span>课程目标{{ index }}<i @click=\"removeThisWay\">（点击删除课程目标）</i></span>\r\n    </div><br>\r\n    <span>\r\n        <i>* </i><span>课程目标名称：</span><el-input v-model=\"examName\" maxlength=\"20\" class=\"w-50 m-2 right\" placeholder=\"请输入20字以内文字\" style=\"height: 38px;width: 343px;\"/>\r\n    </span> <br>\r\n    <span>\r\n      <i>* </i><span>课程目标编码：</span><el-input v-model=\"id\" maxlength=\"20\" class=\"w-50 m-2 right\" placeholder=\"请输入20字以内文字\" style=\"height: 38px;width: 343px;\"/>\r\n    </span> <br>\r\n    <span>\r\n      <i>* </i><span>课程目标内容：</span><el-input  v-model=\"target\" maxlength=\"20\" class=\"w-50 m-2 right\" placeholder=\"请输入20字以内文字\" style=\"height: 38px;width: 343px;\"/>\r\n    </span> <br>\r\n    <span>\r\n      <i>* </i><span>关联毕业要求：</span>\r\n      <span class=\"right\">\r\n        <el-cascader v-model=\"checkObj\" ref=\"casRef\" :options=\"options\" :props=\"customProps\" :show-all-levels=\"false\" style=\"width: 343px;bottom: 16px;\" clearable/>\r\n      </span>\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed, Ref, ref } from 'vue'\r\nimport mitt from 'mitt'\r\nimport { useStore } from 'vuex'\r\nimport { GlobalDataProps } from '@/store'\r\n\r\ntype Remove = {\r\n  'on-target-remove': number,\r\n  'on-target-change': {\r\n    index: number,\r\n    value: number\r\n  }\r\n}\r\nexport const emitter = mitt<Remove>()\r\nexport default defineComponent({\r\n  props: {\r\n    info: Object,\r\n    index: Number\r\n  },\r\n  name: 'AddTargetInfo',\r\n  setup (props) {\r\n    const store = useStore<GlobalDataProps>()\r\n    const targetList = computed(() => store.state.currentCourse.targetList)\r\n    const casRef: Ref = ref(null)\r\n    const examName = computed({\r\n      get: () => targetList.value.find(item => item.id === props.info?.id)?.name,\r\n      set: (value) => {\r\n        store.commit('updateExName', { value, index: props.info?.id })\r\n      }\r\n    })\r\n    const id = computed({\r\n      get: () => targetList.value.find(item => item.id === props.info?.id)?.id,\r\n      set: (value) => {\r\n        store.commit('updateExId', { value, index: props.info?.id })\r\n      }\r\n    })\r\n    const target = computed({\r\n      get: () => targetList.value.find(item => item.id === props.info?.id)?.content,\r\n      set: (value) => {\r\n        store.commit('updateExTar', { value, index: props.info?.id })\r\n      }\r\n    })\r\n    const checkObj = computed({\r\n      get: () => targetList.value.find(item => item.id === props.info?.id)?.graduateId,\r\n      set: (value) => {\r\n        store.commit('updateExGra', { value, index: props.info?.id })\r\n      }\r\n    })\r\n    const customProps = {\r\n      multiple: true,\r\n      emitPath: true\r\n    }\r\n    // const updateVal = () => {\r\n    //   try {\r\n    //     const value = (casRef.value?.getCheckedNodes(true) as []).map((ele: any) => ele.val)\r\n    //     console.log(value)\r\n    //   } catch (err) {\r\n    //     alert('error')\r\n    //   }\r\n    // }\r\n    // const info = computed(() => store.state.currentCourse)\r\n    const removeThisWay = () => {\r\n      emitter.emit('on-target-remove', props.info?.id)\r\n    }\r\n    // const value = ref(props.info?.graduateId || '')\r\n    const options = computed(() => store.state.graduationList)\r\n    return {\r\n      examName,\r\n      removeThisWay,\r\n      options,\r\n      id,\r\n      target,\r\n      casRef,\r\n      checkObj,\r\n      customProps\r\n      // updateName,\r\n      // updateId,\r\n      // updateContent,\r\n      // changeValue\r\n    }\r\n  }\r\n})\r\nconsole.log(11)\r\n</script>\r\n\r\n<style scoped>\r\n.outer {\r\n  position: relative;\r\n  height: 100%;\r\n  margin-top: 20px;\r\n  user-select: none;\r\n}\r\n.top {\r\n  position: relative;\r\n}\r\n.top span {\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 6px;\r\n}\r\n.top span i {\r\n  color: grey;\r\n}\r\n.dev {\r\n  width: 4px;\r\n  height: 25px;\r\n  display: inline-block;\r\n  background-color: #337ef7;\r\n  position: absolute;\r\n  top: 32px;\r\n}\r\ni {\r\n  color: #ed6355;\r\n  font-style: normal;\r\n}\r\n.right {\r\n  margin-top: 16px;\r\n  position: absolute;\r\n  left: 152px;\r\n}\r\n</style>\r\n","D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\aboutCourse\\EditFinalCon.vue",[],"D:\\360MoveData\\Users\\fsric\\Desktop\\all\\u_helper\\src\\components\\ChooseList.vue",[],{"ruleId":"162","severity":1,"message":"163","line":451,"column":9,"nodeType":"164","messageId":"165","endLine":451,"endColumn":20},{"ruleId":"162","severity":1,"message":"163","line":55,"column":3,"nodeType":"164","messageId":"165","endLine":55,"endColumn":14},{"ruleId":"162","severity":1,"message":"163","line":66,"column":3,"nodeType":"164","messageId":"165","endLine":66,"endColumn":14},{"ruleId":"162","severity":1,"message":"163","line":63,"column":5,"nodeType":"164","messageId":"165","endLine":63,"endColumn":16},{"ruleId":"162","severity":1,"message":"163","line":47,"column":1,"nodeType":"164","messageId":"165","endLine":47,"endColumn":12},{"ruleId":"162","severity":1,"message":"163","line":116,"column":11,"nodeType":"164","messageId":"165","endLine":116,"endColumn":22},{"ruleId":"162","severity":1,"message":"163","line":120,"column":11,"nodeType":"164","messageId":"165","endLine":120,"endColumn":22},{"ruleId":"162","severity":1,"message":"163","line":122,"column":13,"nodeType":"164","messageId":"165","endLine":122,"endColumn":24},{"ruleId":"162","severity":1,"message":"163","line":172,"column":1,"nodeType":"164","messageId":"165","endLine":172,"endColumn":12},{"ruleId":"162","severity":1,"message":"163","line":245,"column":13,"nodeType":"164","messageId":"165","endLine":245,"endColumn":24},{"ruleId":"162","severity":1,"message":"163","line":252,"column":13,"nodeType":"164","messageId":"165","endLine":252,"endColumn":24},{"ruleId":"162","severity":1,"message":"163","line":117,"column":3,"nodeType":"164","messageId":"165","endLine":117,"endColumn":14},{"ruleId":"162","severity":1,"message":"163","line":87,"column":5,"nodeType":"164","messageId":"165","endLine":87,"endColumn":16},{"ruleId":"162","severity":1,"message":"163","line":48,"column":7,"nodeType":"164","messageId":"165","endLine":48,"endColumn":18},{"ruleId":"162","severity":1,"message":"163","line":37,"column":3,"nodeType":"164","messageId":"165","endLine":37,"endColumn":14},{"ruleId":"162","severity":1,"message":"163","line":40,"column":3,"nodeType":"164","messageId":"165","endLine":40,"endColumn":14},{"ruleId":"162","severity":1,"message":"163","line":107,"column":1,"nodeType":"164","messageId":"165","endLine":107,"endColumn":12},"no-console","Unexpected console statement.","MemberExpression","unexpected"]